"use strict";(self.webpackChunkelection=self.webpackChunkelection||[]).push([[411],{1238:function(e,n,t){t.d(n,{HS:function(){return r},LL:function(){return a}});var a="http://3.233.196.8:8000/",r=("".concat("http://3.233.196.8:8000/","Backend/images/"),[{key:0,value:"created",color:"cyan"},{key:1,value:"broken",color:"red"},{key:2,value:"approved",color:"orange"},{key:3,value:"waiting...",color:"purple"},{key:4,value:"processing...",color:"blue"},{key:5,value:"done",color:"green"}])},2411:function(e,n,t){t.r(n);var a=t(4942),r=t(1413),i=t(4165),s=t(5861),o=t(9439),l=t(2791),c=t(5316),d=t(3360),u=t(160),m=t(323),h=t(9743),p=t(2677),f=t(9140),x=t(1087),j=t(3513),v=t(7037),g=t(7798),N=t(2576),Z=t(1238),y=t(1830),b=t.n(y),w=t(184);n.default=function(){var e=[{name:"No",width:"60px",selector:function(e){return[e.no]},className:"table-column-center"},{name:"Name",title:"name",selector:function(e){return[e.name]},sortable:!0},{name:"Permission Name",title:"permission_name",selector:function(e){return[e.permission_name]},cell:function(e){return(0,w.jsx)("span",{style:{width:"100%"},children:(0,w.jsxs)("select",{className:"form-control select2 form-select",value:e.permissionid?e.permissionid:0,disabled:!0,children:[(0,w.jsx)("option",{value:0,children:"No permission"},""),O.data.map((function(e){return(0,w.jsx)("option",{value:e.id,children:e.name},e.id)}))]})})}},{name:"Action",width:"100px",cell:function(e){return(0,w.jsxs)("span",{className:"",style:{width:"100%",textAlign:"end"},children:[(0,w.jsx)(g.Z,{placement:"top",overlay:(0,w.jsx)(N.Z,{children:"Edit"}),children:(0,w.jsx)(x.rU,{to:"#",className:"btn btn-primary btn-sm rounded-11 me-2",onClick:function(){return _(e)},children:(0,w.jsx)("i",{children:(0,w.jsxs)("svg",{className:"table-edit",xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 24 24",width:"16",children:[(0,w.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,w.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM5.92 19H5v-.92l9.06-9.06.92.92L5.92 19zM20.71 5.63l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41z"})]})})})}),(0,w.jsx)(g.Z,{placement:"top",overlay:(0,w.jsx)(N.Z,{children:"Delete"}),children:(0,w.jsx)(x.rU,{to:"#",className:"btn btn-danger btn-sm rounded-11",onClick:function(){return G(e.id)},children:(0,w.jsx)("i",{children:(0,w.jsxs)("svg",{className:"table-delete",xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 24 24",width:"16",children:[(0,w.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,w.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4h-3.5z"})]})})})})]})}}],n=l.useState({flag:!1,mode:0}),t=(0,o.Z)(n,2),y=t[0],k=t[1],C=l.useState({limit:5,keyword:"",filter:"name",sorter:"desc",pagenum:1}),L=(0,o.Z)(C,2),B=L[0],S=L[1];l.useEffect((function(){fetch(Z.LL+"getAllPermission",{method:"GET"}).then((function(e){return e.json()})).then(function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D({data:n.data});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),F(B)}),[]);var A=function(){return k({flag:!1,mode:0})},T=l.useState({data:[],count:0}),z=(0,o.Z)(T,2),H=z[0],M=z[1],R=l.useState({id:0,name:"",permissionid:0}),V=(0,o.Z)(R,2),U=V[0],Y=V[1],E=l.useState({data:[]}),P=(0,o.Z)(E,2),O=P[0],D=P[1],F=function(e){fetch(Z.LL+"getAllRole/?limit="+e.limit+"&keyword="+e.keyword+"&filter="+e.filter+"&sorter="+e.sorter+"&pagenum="+e.pagenum,{method:"GET"}).then((function(e){return e.json()})).then(function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,n.data.map(function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n){var a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n,e.next=3,O.data.map((function(e){e.id-n.permissionid===0&&(a.permission_name=e.name)}));case 3:t.push(a);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 3:M({data:t,count:n.count});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())},G=function(e){b().fire({title:"Are you sure?",text:"You delete this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(n){if(n.isConfirmed){var t=B;fetch(Z.LL+"delRole/?id="+e+"&limit="+t.limit+"&keyword="+t.keyword+"&filter="+t.filter+"&sorter="+t.sorter+"&pagenum="+t.pagenum,{method:"GET"}).then((function(e){return e.json()})).then((function(e){b().fire("Deleted!","Your data has been deleted.","success"),F(B)}))}}))},_=function(e){k({flag:!0,mode:2}),Y({id:e.id,name:e.name,permissionid:e.permissionid})},J=function(e){Y((0,r.Z)((0,r.Z)({},U),{},(0,a.Z)({},e.target.name,e.target.value)))};return(0,w.jsxs)("div",{children:[(0,w.jsxs)("div",{className:"breadcrumb-header justify-content-between",children:[(0,w.jsx)("div",{className:"left-content",children:(0,w.jsx)("span",{className:"main-content-title mg-b-0 mg-b-lg-1",children:"Role List"})}),(0,w.jsxs)("div",{className:"justify-content-center mt-2",children:[(0,w.jsxs)(x.rU,{className:"btn me-2 btn-rounded btn-outline-primary",to:"#",onClick:function(){k({flag:!0,mode:1}),Y({id:0,name:"",permissionid:0})},children:[(0,w.jsx)("i",{className:"fe fe-plus me-2"}),"Add New Role"]}),(0,w.jsxs)(c.Z,{show:y.flag,onHide:A,children:[(0,w.jsxs)(c.Z.Header,{className:"modal-header",children:[y.mode-1===0?(0,w.jsx)("h6",{className:"modal-title",children:"Add New Role"}):(0,w.jsx)("h6",{className:"modal-title",children:"Update Role"}),(0,w.jsx)(d.Z,{variant:"",className:"btn-close",type:"button",onClick:A,children:(0,w.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,w.jsxs)(c.Z.Body,{className:"modal-body",children:[" ",(0,w.jsx)("div",{className:"p-4",children:(0,w.jsxs)(u.Z,{className:"form-horizontal",children:[(0,w.jsx)(m.Z,{className:"form-group",children:(0,w.jsx)(u.Z.Control,{type:"text",className:"form-control",id:"name",placeholder:"name",name:"name",value:U.name,onChange:function(e){return J(e)}})}),(0,w.jsx)(m.Z,{className:"form-group",children:(0,w.jsxs)("select",{id:"permissionid",placeholder:"permission id",name:"permissionid",className:"form-control select2 form-select",value:U.permissionid,onChange:function(e){return J(e)},children:[(0,w.jsx)("option",{value:0,children:"No permission"},""),O.data.map((function(e){return(0,w.jsx)("option",{value:e.id,children:e.name},e.id)}))]})})]})})]}),(0,w.jsxs)(c.Z.Footer,{children:[y.mode-1===0?(0,w.jsx)(d.Z,{variant:"",className:"btn ripple btn-primary",type:"button",onClick:function(){console.log("role",U);var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)};fetch(Z.LL+"addRole",e).then((function(e){return e.json()})).then((function(e){console.log("datarole",e),e.code-200===0&&(F(B),A())}))},children:"Add"}):(0,w.jsx)(d.Z,{variant:"",className:"btn ripple btn-primary",type:"button",onClick:function(){A(),b().fire({title:"Are you sure?",text:"You update this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, update it!"}).then((function(e){if(e.isConfirmed){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)};fetch(Z.LL+"updateRole",n).then((function(e){return e.json()})).then((function(e){e.code-200===0&&(F(B),b().fire("Update!","Your data has been updated.","success"))}))}}))},children:"Update"}),(0,w.jsx)(d.Z,{variant:"",className:"btn ripple btn-secondary",onClick:A,children:"Close"})]})]})]})]}),(0,w.jsx)(h.Z,{className:"row-sm",children:(0,w.jsx)(p.Z,{lg:12,children:(0,w.jsx)(f.Z,{className:"custom-card",children:(0,w.jsx)(f.Z.Body,{children:(0,w.jsx)("div",{className:"table-responsive ",children:(0,w.jsx)("span",{className:"datatable",children:(0,w.jsxs)("span",{className:"uselistdata",children:[(0,w.jsx)("label",{className:"float-first",children:(0,w.jsxs)("select",{className:"form-control select form-select",defaultValue:"5",onChange:function(e){S((0,r.Z)((0,r.Z)({},B),{},{limit:e.target.value,pagenum:1}));var n=B;n.limit=e.target.value,n.pagenum=1,F(n)},children:[(0,w.jsx)("option",{value:"5",children:"5\xa0\xa0\xa0\xa0"}),(0,w.jsx)("option",{value:"10",children:"10\xa0\xa0\xa0\xa0"}),(0,w.jsx)("option",{value:"20",children:"20\xa0\xa0\xa0\xa0"}),(0,w.jsx)("option",{value:"50",children:"50\xa0\xa0\xa0\xa0"})]})}),(0,w.jsx)("label",{className:"float-end",children:(0,w.jsx)("input",{type:"text",placeholder:"Name Search...",className:"mb-4 form-control-sm form-control",onChange:function(e){S((0,r.Z)((0,r.Z)({},B),{},{keyeword:e.target.value,pagenum:1}));var n=B;n.keyword=e.target.value,n.pagenum=1,F(n)}})}),(0,w.jsx)(j.ZP,{columns:e,data:function(e){var n=[];return e&&e.map((function(e,t){var a=e;a.no=t+B.limit*(B.pagenum-1)+1,n.push(a)})),n}(H.data),defaultSortField:"ID",striped:!0,defaultSortAsc:!1,pagination:!1,onSort:function(n,t){S((0,r.Z)((0,r.Z)({},B),{},{filter:e[n.id-1].title,sorter:t,pagenum:1}));var a=B;a.filter=e[n.id-1].title,a.sorter=t,a.pagenum=1,F(a)}}),(0,w.jsx)("label",{className:"float-end",style:{marginTop:"5px"},children:(0,w.jsx)(v.Z,{page:B.pagenum,count:Math.ceil(H.count/B.limit),showFirstButton:!0,showLastButton:!0,onChange:function(e,n){S((0,r.Z)((0,r.Z)({},B),{},{pagenum:n}));var t=B;t.pagenum=n,F(t)}})})]})})})})})})})]})}}}]);
//# sourceMappingURL=411.7944831d.chunk.js.map