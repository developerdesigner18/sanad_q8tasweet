"use strict";(self.webpackChunkelection=self.webpackChunkelection||[]).push([[964],{1238:function(e,n,t){t.d(n,{HS:function(){return o},LL:function(){return a}});var a="http://3.233.196.8:8000/",o=("".concat("http://3.233.196.8:8000/","Backend/images/"),[{key:0,value:"created",color:"cyan"},{key:1,value:"broken",color:"red"},{key:2,value:"approved",color:"orange"},{key:3,value:"waiting...",color:"purple"},{key:4,value:"processing...",color:"blue"},{key:5,value:"done",color:"green"}])},6964:function(e,n,t){t.r(n);var a=t(4165),o=t(5861),i=t(4942),r=t(1413),l=t(9439),s=t(2791),c=t(5316),u=t(3360),d=t(160),m=t(323),p=t(9743),h=t(2677),f=t(9140),g=t(1087),v=t(3513),x=t(7037),j=t(7798),b=t(2576),Z=t(6616),w=t(1830),N=t.n(w),y=t(1238),C=t(184);n.default=function(){var e=[{name:"No",width:"60px",selector:function(e){return[e.no]},className:"table-column-center"},{name:"Name",title:"name",selector:function(e){return[e.name]},sortable:!0},{name:"Menus",title:"menu",selector:function(e){return[e.menu]},cell:function(e){return(0,C.jsx)("span",{className:"",style:{width:"100%",textAlign:"end"},children:(0,C.jsx)(Z.Z,{classNamePrefix:"background",display:"value",value:e.menu,labelledBy:"Select",isMulti:!0,isDisabled:!0})})}},{name:"Description",title:"description",selector:function(e){return[e.description]}},{name:"Action",width:"100px",cell:function(e){return(0,C.jsxs)("span",{className:"",style:{width:"100%",textAlign:"end"},children:[(0,C.jsx)(j.Z,{placement:"top",overlay:(0,C.jsx)(b.Z,{children:"Edit"}),children:(0,C.jsx)(g.rU,{to:"#",className:"btn btn-primary btn-sm rounded-11 me-2",onClick:function(){return Q(e)},children:(0,C.jsx)("i",{children:(0,C.jsxs)("svg",{className:"table-edit",xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 24 24",width:"16",children:[(0,C.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,C.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM5.92 19H5v-.92l9.06-9.06.92.92L5.92 19zM20.71 5.63l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41z"})]})})})}),(0,C.jsx)(j.Z,{placement:"top",overlay:(0,C.jsx)(b.Z,{children:"Delete"}),children:(0,C.jsx)(g.rU,{to:"#",className:"btn btn-danger btn-sm rounded-11",onClick:function(){return K(e.id)},children:(0,C.jsx)("i",{children:(0,C.jsxs)("svg",{className:"table-delete",xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 24 24",width:"16",children:[(0,C.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,C.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4h-3.5z"})]})})})})]})}}],n=s.useState({id:0,name:"",url:"",parent:"",parentId:0}),t=(0,l.Z)(n,2),w=t[0],k=t[1],L=s.useState({flag:!1,mode:0}),O=(0,l.Z)(L,2),M=O[0],S=O[1],B=s.useState({limit:5,keyword:"",filter:"name",sorter:"desc",pagenum:1}),V=(0,l.Z)(B,2),A=V[0],D=V[1];s.useEffect((function(){fetch(y.LL+"getMenu").then((function(e){return e.json()})).then((function(e){var n=[];e.data.map((function(t){if(!t.parentid){var a={label:t.name,options:[]};e.data.map((function(e){e.parentid-t.id===0&&a.options.push({menuId:e.id,value:e.name,label:e.name})})),n.push(a)}})),W({data:n})})),q(A)}),[]);var z=function(){return S({flag:!1,mode:0})},H=s.useState({data:[],count:0}),P=(0,l.Z)(H,2),T=P[0],I=P[1],U=s.useState({id:0,name:"",menu:"",description:""}),Y=(0,l.Z)(U,2),E=Y[0],_=Y[1],F=s.useState({data:[]}),G=(0,l.Z)(F,2),J=G[0],W=G[1],R=function(e){k((0,r.Z)((0,r.Z)({},w),{},(0,i.Z)({},e.target.name,e.target.value)))},q=function(e){fetch(y.LL+"getMenu/?limit="+e.limit+"&keyword="+e.keyword+"&filter="+e.filter+"&sorter="+e.sorter+"&pagenum="+e.pagenum,{method:"GET"}).then((function(e){return e.json()})).then(function(){var e=(0,o.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getdata",n),t=[],e.next=4,n.data.map(function(){var e=(0,o.Z)((0,a.Z)().mark((function e(o){var i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=o).menu=[],e.next=4,n.menu.map((function(e){e.permissionid-o.id===0&&i.menu.push({menuId:e.menuid,value:e.value,label:e.label})}));case 4:t.push(i);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 4:I({data:t,count:n.count});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())},K=function(e){N().fire({title:"Are you sure?",text:"You delete this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(n){if(n.isConfirmed){var t=A;fetch(y.LL+"delPermission/?id="+e+"&limit="+t.limit+"&keyword="+t.keyword+"&filter="+t.filter+"&sorter="+t.sorter+"&pagenum="+t.pagenum,{method:"GET"}).then((function(e){return e.json()})).then((function(e){N().fire("Deleted!","Your data has been deleted.","success"),I({data:e.data,count:e.count})}))}}))},Q=function(e){S({flag:!0,mode:2}),_({id:e.id,name:e.name,description:e.description,menu:e.menu})};return(0,C.jsxs)("div",{children:[(0,C.jsxs)("div",{className:"breadcrumb-header justify-content-between",children:[(0,C.jsx)("div",{className:"left-content",children:(0,C.jsx)("span",{className:"main-content-title mg-b-0 mg-b-lg-1",children:"Menu List"})}),(0,C.jsxs)("div",{className:"justify-content-center mt-2",children:[(0,C.jsxs)(g.rU,{className:"btn me-2 btn-rounded btn-outline-primary",to:"#",onClick:function(){S({flag:!0,mode:1}),_({id:0,name:"",menu:"",description:""})},children:[(0,C.jsx)("i",{className:"fe fe-plus me-2"}),"Add New Menu"]}),(0,C.jsxs)(c.Z,{show:M.flag,onHide:z,children:[(0,C.jsxs)(c.Z.Header,{className:"modal-header",children:[M.mode-1===0?(0,C.jsx)("h6",{className:"modal-title",children:"Add New Menu"}):(0,C.jsx)("h6",{className:"modal-title",children:"Update Menu "}),(0,C.jsx)(u.Z,{variant:"",className:"btn-close",type:"button",onClick:z,children:(0,C.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,C.jsxs)(c.Z.Body,{className:"modal-body",children:[" ",(0,C.jsx)("div",{className:"p-4",children:(0,C.jsxs)(d.Z,{className:"form-horizontal",children:[(0,C.jsx)(m.Z,{className:"form-group",children:(0,C.jsx)(d.Z.Control,{type:"text",className:"form-control",id:"name",placeholder:"menu name",name:"name",value:w.name,onChange:function(e){return R(e)}})}),(0,C.jsx)(m.Z,{className:"form-group",children:(0,C.jsx)(d.Z.Control,{type:"text",className:"form-control",id:"url",placeholder:"menu url",name:"url",value:w.url,onChange:function(e){return R(e)}})}),(0,C.jsx)(m.Z,{className:"form-group",children:(0,C.jsx)(Z.Z,{classNamePrefix:"background",display:"value",options:J.data,value:E.menu,onChange:function(e){_((0,r.Z)((0,r.Z)({},E),{},{menu:e}))},labelledBy:"Select",isMulti:!0})})]})})]}),(0,C.jsxs)(c.Z.Footer,{children:[M.mode-1===0?(0,C.jsx)(u.Z,{variant:"",className:"btn ripple btn-primary",type:"button",onClick:function(){console.log("perdata",E);var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)};fetch(y.LL+"addMenu",e).then((function(e){return e.json()})).then((function(e){e.code-200===0&&console.log("iujuij")}))},children:"Add"}):(0,C.jsx)(u.Z,{variant:"",className:"btn ripple btn-primary",type:"button",onClick:function(){z(),N().fire({title:"Are you sure?",text:"You update this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, update it!"}).then((function(e){if(e.isConfirmed){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)};fetch(y.LL+"updatePermission",n).then((function(e){return e.json()})).then((function(e){e.code-200===0&&(q(A),N().fire("Update!","Your data has been updated.","success"))}))}}))},children:"Update"}),(0,C.jsx)(u.Z,{variant:"",className:"btn ripple btn-secondary",onClick:z,children:"Close"})]})]})]})]}),(0,C.jsx)(p.Z,{className:"row-sm",children:(0,C.jsx)(h.Z,{lg:12,children:(0,C.jsx)(f.Z,{className:"custom-card",children:(0,C.jsx)(f.Z.Body,{children:(0,C.jsx)("div",{className:"table-responsive ",children:(0,C.jsx)("span",{className:"datatable",children:(0,C.jsxs)("span",{className:"uselistdata",children:[(0,C.jsx)("label",{className:"float-first",children:(0,C.jsxs)("select",{className:"form-control select form-select",defaultValue:"5",onChange:function(e){D((0,r.Z)((0,r.Z)({},A),{},{limit:e.target.value,pagenum:1}));var n=A;n.limit=e.target.value,n.pagenum=1,q(n)},children:[(0,C.jsx)("option",{value:"5",children:"5\xa0\xa0\xa0\xa0"}),(0,C.jsx)("option",{value:"10",children:"10\xa0\xa0\xa0\xa0"}),(0,C.jsx)("option",{value:"20",children:"20\xa0\xa0\xa0\xa0"}),(0,C.jsx)("option",{value:"50",children:"50\xa0\xa0\xa0\xa0"})]})}),(0,C.jsx)("label",{className:"float-end",children:(0,C.jsx)("input",{type:"text",placeholder:"Name Search...",className:"mb-4 form-control-sm form-control",onChange:function(e){D((0,r.Z)((0,r.Z)({},A),{},{keyeword:e.target.value,pagenum:1}));var n=A;n.keyword=e.target.value,n.pagenum=1,q(n)}})}),(0,C.jsx)(v.ZP,{columns:e,data:function(e){var n=[];return e&&e.map((function(e,t){var a=e;a.no=t+A.limit*(A.pagenum-1)+1,n.push(a)})),n}(T.data),defaultSortField:"ID",striped:!0,defaultSortAsc:!1,pagination:!1,onSort:function(n,t){D((0,r.Z)((0,r.Z)({},A),{},{filter:e[n.id-1].title,sorter:t,pagenum:1}));var a=A;a.filter=e[n.id-1].title,a.sorter=t,a.pagenum=1,q(a)}}),(0,C.jsx)("label",{className:"float-end",style:{marginTop:"5px"},children:(0,C.jsx)(x.Z,{page:A.pagenum,count:Math.ceil(T.count/A.limit),showFirstButton:!0,showLastButton:!0,onChange:function(e,n){D((0,r.Z)((0,r.Z)({},A),{},{pagenum:n}));var t=A;t.pagenum=n,q(t)}})})]})})})})})})})]})}},6616:function(e,n,t){t.d(n,{Z:function(){return h}});var a=t(7462),o=t(2791),i=t(8308),r=t(8003),l=t(1413),s=t(3433),c=t(5987),u=t(3646),d=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],m=function(){var e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,t=String(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase(),a=String(n.getOptionValue(e)).toLowerCase(),o=String(n.getOptionLabel(e)).toLowerCase();return a===t||o===t},p={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,n,t,a){return!(!e||n.some((function(n){return m(e,n,a)}))||t.some((function(n){return m(e,n,a)})))},getNewOptionData:function(e,n){return{label:n,value:e,__isNew__:!0}}};t(4164),t(1672);var h=(0,o.forwardRef)((function(e,n){var t=function(e){var n=e.allowCreateWhileLoading,t=void 0!==n&&n,a=e.createOptionPosition,r=void 0===a?"last":a,m=e.formatCreateLabel,h=void 0===m?p.formatCreateLabel:m,f=e.isValidNewOption,g=void 0===f?p.isValidNewOption:f,v=e.getNewOptionData,x=void 0===v?p.getNewOptionData:v,j=e.onCreateOption,b=e.options,Z=void 0===b?[]:b,w=e.onChange,N=(0,c.Z)(e,d),y=N.getOptionValue,C=void 0===y?i.g:y,k=N.getOptionLabel,L=void 0===k?i.b:k,O=N.inputValue,M=N.isLoading,S=N.isMulti,B=N.value,V=N.name,A=(0,o.useMemo)((function(){return g(O,(0,u.I)(B),Z,{getOptionValue:C,getOptionLabel:L})?x(O,h(O)):void 0}),[h,x,L,C,O,g,Z,B]),D=(0,o.useMemo)((function(){return!t&&M||!A?Z:"first"===r?[A].concat((0,s.Z)(Z)):[].concat((0,s.Z)(Z),[A])}),[t,r,M,A,Z]),z=(0,o.useCallback)((function(e,n){if("select-option"!==n.action)return w(e,n);var t=Array.isArray(e)?e:[e];if(t[t.length-1]!==A)w(e,n);else if(j)j(O);else{var a=x(O,O),o={action:"create-option",name:V,option:a};w((0,u.D)(S,[].concat((0,s.Z)((0,u.I)(B)),[a]),a),o)}}),[x,O,S,V,A,j,w,B]);return(0,l.Z)((0,l.Z)({},N),{},{options:D,onChange:z})}((0,r.u)(e));return o.createElement(i.S,(0,a.Z)({ref:n},t))}))}}]);
//# sourceMappingURL=964.98bc034c.chunk.js.map